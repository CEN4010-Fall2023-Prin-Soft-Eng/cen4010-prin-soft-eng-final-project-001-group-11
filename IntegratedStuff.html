<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Integrated Dashboard</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            margin: 50px;
        }
        #time-display {
            font-size: 24px;
            margin-top: 20px;
        }
        #apod-container {
            margin-top: 50px;
        }
        #apod-image {
            max-width: 100%;
        }
        #apod-caption {
            margin-top: 10px;
            font-style: italic;
        }
        #photographer {
            margin-top: 5px;
        }
        #weather-container {
            margin-top: 50px;
        }
        .article-container {
            display: flex;
            justify-content: space-around;
            align-items: center;
            margin-top: 50px;
        }
        .article {
            text-align: center;
            margin: 10px;
        }
        img {
            max-width: 200px;
            max-height: 150px;
            object-fit: cover;
            cursor: pointer;
        }
        #quote-container {
            max-width: 600px;
            margin: 0 auto;
            padding: 20px;
            background-color: #fff;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            margin-top: 50px;
        }

        #quote {
            font-size: 18px;
            font-style: italic;
        }

        #author {
            margin-top: 10px;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <h1>Integrated Dashboard</h1>
    <div id="time-display"></div>

    <div id="apod-container">
        <h2>Astronomy Picture of the Day</h2>
        <img id="apod-image" src="" alt="NASA APOD">
        <p id="apod-caption"></p>
        <p id="photographer"></p>
    </div>

    <div id="weather-container">
        <h2>Weather Information</h2>
        <label for="cityInput">Enter City:</label>
        <input type="text" id="cityInput">
        <button onclick="getWeather()">Get Weather</button>
    
        <div id="weatherData">

        </div>
    </div>

    <div class="article-container" id="articleContainer"></div>

    <div id="quote-container">
        <div id="quote"></div>
        <div id="author"></div>
    </div>

    <script>
        function fetchTime() {
            const currentTimeElement = document.getElementById("time-display");
            const currentTime = new Date().toLocaleTimeString();
            currentTimeElement.textContent = `Current Time: ${currentTime}`;
        }

        function fetchNASAImage() {
            fetch("https://api.nasa.gov/planetary/apod?api_key=Uo3NgIUerSqCUZn9EgvivQCiRci8fYAyCV5EBaGH")
                .then(response => response.json())
                .then(data => {
                    document.getElementById("apod-image").src = data.url;
                    document.getElementById("apod-caption").textContent = data.explanation;
                    document.getElementById("photographer").textContent = `Photographer: ${data.copyright}`;
                })
                .catch(error => {
                    console.error('Error fetching NASA APOD:', error);
                });
        }

        function getWeather() {
            var city = document.getElementById('cityInput').value;
            var apiKey = 'Ym8Ahge4k7MmAgsUYaylDgIDuhSYtV4W';

            fetch(`https://api.tomorrow.io/v4/weather/realtime?location=${city}&apikey=${apiKey}`)
                .then(response => response.json())
                .then(data => displayWeather(data))
                .catch(error => console.error('Error:', error));
        }

        function displayWeather(data) {
            var weatherDataDiv = document.getElementById('weatherData');
            weatherDataDiv.innerHTML = '';

            var values = data.data.values;
            var location = data.location;

            var html = `
                <p><strong>Location:</strong> ${location.name}</p>
                <p><strong>Temperature:</strong> ${values.temperature}Â°C</p>
                <p><strong>Humidity:</strong> ${values.humidity}%</p>
                <p><strong>Wind Speed:</strong> ${values.windSpeed} m/s</p>
                <p><strong>Cloud Cover:</strong> ${values.cloudCover}%</p>
            `;

            weatherDataDiv.innerHTML = html;
        }

        function fetchTopHeadlines() {
            const apiKey = '10becb8d7bef4b2fbf1ac9a411a82de5';
            const apiUrl = `https://newsapi.org/v2/top-headlines?country=us&apiKey=${apiKey}`;

            fetch(apiUrl)
                .then(response => response.json())
                .then(data => {
                    const articles = data.articles.slice(0, 3);
                    const articleContainer = document.getElementById('articleContainer');
                    articleContainer.innerHTML = '';

                    articles.forEach(article => {
                        const articleElement = document.createElement('div');
                        articleElement.classList.add('article');

                        const linkElement = document.createElement('a');
                        linkElement.href = article.url;
                        linkElement.target = '_blank';

                        const imgElement = document.createElement('img');
                        imgElement.src = article.urlToImage;
                        imgElement.alt = article.title;
                        imgElement.onclick = () => window.open(article.url, '_blank');
                        linkElement.appendChild(imgElement);

                        const titleElement = document.createElement('h3');
                        titleElement.textContent = article.title;
                        linkElement.appendChild(titleElement);

                        articleElement.appendChild(linkElement);
                        articleContainer.appendChild(articleElement);
                    });
                })
                .catch(error => console.error('Error fetching top headlines:', error));
        }

        function fetchRandomQuote() {
            fetch('https://api.quotable.io/random')
                .then(response => response.json())
                .then(data => {
                    displayQuote(data);
                })
                .catch(error => console.error('Error fetching quote:', error));

            function displayQuote(quoteData) {
                const quoteContainer = document.getElementById('quote-container');
                const quoteElement = document.getElementById('quote');
                const authorElement = document.getElementById('author');

                quoteElement.textContent = `"${quoteData.content}"`;
                authorElement.textContent = `- ${quoteData.author}`;

                quoteContainer.style.opacity = 1;
            }
        }


        fetchTime();
        fetchNASAImage();
        getWeather();
        fetchTopHeadlines();
        fetchRandomQuote();




        setInterval(fetchTime, 1000);
        setInterval(() => {
            fetchNASAImage();
            getWeather();
            fetchTopHeadlines();
            fetchRandomQuote();
        }, 2000000);
    </script>
</body>
</html>
